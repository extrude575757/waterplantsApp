(this["webpackJsonpplant-app"]=this["webpackJsonpplant-app"]||[]).push([[0],{49:function(e,t,a){e.exports=a(76)},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),l=a.n(o),c=a(9),s=a(2),m=(a(48),a(13)),u=a(10),i=a(14),p=a(40),d=a.n(p),E=function(){var e=localStorage.getItem("token");return d.a.create({baseURL:"https://bw-one-line-a-day.herokuapp.com/api/",headers:{Authorization:e}})},b=a(16),h=b.b().shape({username:b.d().required(),email:b.d().email().required(),password:b.d().required(),terms:b.a().oneOf([!0],"Please agree to terms of use")}),g=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),o=(a[0],a[1]),l=Object(n.useState)({username:"",password:"",email:""}),s=Object(i.a)(l,2),p=s[0],d=s[1],g=Object(n.useState)({username:"",email:"",password:"",terms:""}),v=Object(i.a)(g,2),f=v[0],O=v[1];Object(n.useEffect)((function(){h.isValid(p).then((function(e){o(!e)}))}),[p]);var w=function(e){e.persist(),function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;b.c(h,e.target.name).validate(t).then((function(t){O(Object(u.a)(Object(u.a)({},f),{},Object(m.a)({},e.target.name,"")))})).catch((function(t){O(Object(u.a)(Object(u.a)({},f),{},Object(m.a)({},e.target.name,t.errors[0])))}))}(e),d(Object(u.a)(Object(u.a)({},p),{},Object(m.a)({},e.target.name,e.target.value)))},S=function(e){e.preventDefault(),console.log(p),E().post("/auth/register",p).then((function(e){localStorage.setItem("token",e.data.token),console.log(e.data)})).catch((function(e){return console.log(e)}))};return r.a.createElement(r.a.Fragment,null,"Water My Plants",r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Welcome!"),r.a.createElement("p",null,"Register your account below"),r.a.createElement("form",{className:"App",onSubmit:S},r.a.createElement("label",{htmlFor:"username"},"USER NAME"),r.a.createElement("input",{type:"text",name:"username",placeholder:"NAME",value:p.username,onChange:w}),r.a.createElement("label",{htmlFor:"username"},"E-MAIL",f.email.length>0?r.a.createElement("p",{className:"error App-logo"},f.email):null),r.a.createElement("input",{type:"email",name:"email",placeholder:"EMAIL",value:h.email,onChange:w}),r.a.createElement("label",{htmlFor:"password"},"PASSWORD"),r.a.createElement("input",{type:"password",name:"password",placeholder:"PASSWORD",value:p.password,onChange:w}),r.a.createElement("label",{htmlFor:"registerbtn"},"REGISTER"),r.a.createElement("button",{name:"registerbtn",onClick:S},"Register")),r.a.createElement(c.b,{to:"/login"},"Already have an account? - Sign In")))},v=a(44),f=r.a.createContext({});function O(){var e=Object(v.a)(["\n  background-color:blue;\n"]);return O=function(){return e},e}a(24).a.div(O());function w(e){var t=Object(n.useContext)(f),a=t.userInfo,o=t.setUserInfo,l=Object(n.useState)({username:null===a||void 0===a?void 0:a.username,password:null===a||void 0===a?void 0:a.password}),s=Object(i.a)(l,2),p=s[0],d=s[1],b=function(e){d(Object(u.a)(Object(u.a)({},p),{},Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Welcome back!"),r.a.createElement("form",{className:"App",onSubmit:function(e){e.preventDefault(),E().post("https://watertheplants.herokuapp.com/api/auth/register",p).then((function(e){console.log(e.data),o(e.data)})).catch((function(e){e.response?console.error("Error logging in: ",e.response.data):console.error("Error logging in: ",e)}))}},r.a.createElement("label",{htmlFor:"username"},"USER NAME"),r.a.createElement("input",{type:"username",name:"username",placeholder:"USERNAME",value:p.username,onChange:b}),r.a.createElement("label",{htmlFor:"password"},"PASSWORD"),r.a.createElement("input",{type:"password",name:"password",placeholder:"PASSWORD",value:p.password,onChange:b}),r.a.createElement("label",{htmlFor:"login"},"LOGIN"),r.a.createElement("button",{onClick:function(){}},"Login")),r.a.createElement("button",null,"DON'T HAVE AN ACCOUNT?",r.a.createElement(c.c,{to:"/"},"SIGN UP")))}function S(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"saved-list"},r.a.createElement("div",{className:"home-button"},r.a.createElement(c.b,{to:"/"},"Home")),r.a.createElement("div",{className:"home-button"},r.a.createElement(c.b,{to:"/login"},"Login")),r.a.createElement("div",{className:"home-button"},r.a.createElement(c.b,{to:"/about"},"About"))),",",r.a.createElement("div",{className:"saved-list"},r.a.createElement("h3",null,"Saved Plants:")))}var j=function(){return r.a.createElement(c.a,null,r.a.createElement(S,null),r.a.createElement("div",{className:"App"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:g}),r.a.createElement(s.b,{exact:!0,path:"/login",component:w}))))};a(74),a(75),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.a6081fc5.chunk.js.map