(this["webpackJsonpplant-app"]=this["webpackJsonpplant-app"]||[]).push([[0],{41:function(e,t,a){e.exports=a(69)},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),o=a.n(l),c=a(9),s=a(2),m=a(13),u=a(10),i=a(14),p=a(36),d=a.n(p),E=function(){var e=localStorage.getItem("token");return d.a.create({baseURL:"https://bw-one-line-a-day.herokuapp.com/api/",headers:{Authorization:e}})},h=a(16),b=h.b().shape({username:h.d().required(),email:h.d().email().required(),password:h.d().required(),terms:h.a().oneOf([!0],"Please agree to terms of use")}),g=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)({username:"",password:"",email:""}),p=Object(i.a)(s,2),d=p[0],g=p[1],v=Object(n.useState)({username:"",email:"",password:"",terms:""}),f=Object(i.a)(v,2),O=f[0],w=f[1];Object(n.useEffect)((function(){b.isValid(d).then((function(e){o(!e)}))}),[d]);var S=function(e){e.persist(),function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;h.c(b,e.target.name).validate(t).then((function(t){w(Object(u.a)(Object(u.a)({},O),{},Object(m.a)({},e.target.name,"")))})).catch((function(t){w(Object(u.a)(Object(u.a)({},O),{},Object(m.a)({},e.target.name,t.errors[0])))}))}(e),g(Object(u.a)(Object(u.a)({},d),{},Object(m.a)({},e.target.name,e.target.value)))},j=function(e){e.preventDefault(),console.log(d),E().post("/auth/register",d).then((function(e){localStorage.setItem("token",e.data.token),console.log(e.data)})).catch((function(e){return console.log(e)}))};return r.a.createElement(r.a.Fragment,null,"Water My Plants",r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Welcome!"),r.a.createElement("p",null,"Register your account below"),r.a.createElement("form",{className:"App",onSubmit:j},r.a.createElement("label",{htmlFor:"username"},"USER NAME"),r.a.createElement("input",{type:"text",name:"username",placeholder:"NAME",value:d.username,onChange:S}),r.a.createElement("label",{htmlFor:"username"},"E-MAIL",O.email.length>0?r.a.createElement("p",{className:"error App-logo"},O.email):null),r.a.createElement("input",{type:"email",name:"email",placeholder:"EMAIL",value:b.email,onChange:S}),r.a.createElement("label",{htmlFor:"password"},"PASSWORD"),r.a.createElement("input",{type:"password",name:"password",placeholder:"PASSWORD",value:d.password,onChange:S}),r.a.createElement("label",{htmlFor:"registerbtn"},"REGISTER"),r.a.createElement("button",{name:"registerbtn",disabled:l,onClick:j},"Register")),r.a.createElement(c.b,{to:"/login"},"Already have an account? - Sign In")))},v=r.a.createContext({});function f(e){var t=Object(n.useContext)(v),a=t.userInfo,l=t.setUserInfo,o=Object(n.useState)({username:null===a||void 0===a?void 0:a.username,password:null===a||void 0===a?void 0:a.password}),s=Object(i.a)(o,2),p=s[0],d=s[1],h=function(e){d(Object(u.a)(Object(u.a)({},p),{},Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Welcome back!"),r.a.createElement("form",{className:"App",onSubmit:function(e){e.preventDefault(),E().post("https://watertheplants.herokuapp.com/api/auth/register",p).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){e.response?console.error("Error logging in: ",e.response.data):console.error("Error logging in: ",e)}))}},r.a.createElement("label",{htmlFor:"username"},"USER NAME"),r.a.createElement("input",{type:"username",name:"username",placeholder:"USERNAME",value:p.username,onChange:h}),r.a.createElement("label",{htmlFor:"password"},"PASSWORD"),r.a.createElement("input",{type:"password",name:"password",placeholder:"PASSWORD",value:p.password,onChange:h}),r.a.createElement("label",{htmlFor:"login"},"LOGIN"),r.a.createElement("button",{onClick:function(){}},"Login")),r.a.createElement("button",null,"DON'T HAVE AN ACCOUNT?",r.a.createElement(c.c,{to:"/"},"SIGN UP")))}function O(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"saved-list"},r.a.createElement("div",{className:"home-button"},r.a.createElement(c.b,{to:"/"},"Home")),r.a.createElement("div",{className:"home-button"},r.a.createElement(c.b,{to:"/login"},"Login")),r.a.createElement("div",{className:"home-button"},r.a.createElement(c.b,{to:"/about"},"About"))),",",r.a.createElement("div",{className:"saved-list"},r.a.createElement("h3",null,"Saved Plants:")))}var w=function(){return r.a.createElement(c.a,null,r.a.createElement(O,null),r.a.createElement("div",{className:"App"},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:g}),r.a.createElement(s.a,{exact:!0,path:"/login",component:f}))))};a(67),a(68),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.f07cc50c.chunk.js.map